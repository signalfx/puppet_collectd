# generated by puppet
<LoadPlugin "python">
    Globals true
</LoadPlugin>

<Plugin "python">
    ModulePath "/usr/share/collectd/collectd-haproxy"

    Import "haproxy"

    <% @modules.each do |module_instance, module_config| %>
    <Module "haproxy">
     <% module_config.each do |key,value| %>
     <% if key == 'ProxyMonitor' %>
     <% value.each do |monitor| %>
     <%= key -%> <%= monitor %>
     <% end %>
     <% elsif key == 'ExcludeMetric'  %>
     <% value.each do |metric| %>
     <%= key -%> <%= metric %>
     <% end %>
     <% else %>
     <%= key -%> <%= value %>
     <% end %>
     <% end %>
    </Module>
    <% end %>
</Plugin>
