# generated by puppet
<Plugin java>
    <Plugin "GenericJMX">

	<MBean "cassandra-client-read-latency">
	  ObjectName "org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency"
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.ClientRequest.Read.Latency.50thPercentile"
	    Attribute "50thPercentile"
	  </Value>
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.ClientRequest.Read.Latency.Max"
	    Attribute "Max"
	  </Value>
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.ClientRequest.Read.Latency.99thPercentile"
	    Attribute "99thPercentile"
	  </Value>
	  <Value>
	    Type "counter"
	    InstancePrefix "cassandra.ClientRequest.Read.Latency.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-client-read-timeouts">
	  ObjectName "org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Timeouts"
	  <Value>
	    Type "counter"
	    InstancePrefix "cassandra.ClientRequest.Read.Timeouts.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-client-read-unavailables">
	  ObjectName "org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Unavailables"
	  <Value>
	    Type "counter"
	    InstancePrefix "cassandra.ClientRequest.Read.Unavailables.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-client-rangeslice-latency">
	  ObjectName "org.apache.cassandra.metrics:type=ClientRequest,scope=RangeSlice,name=Latency"
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.ClientRequest.RangeSlice.Latency.50thPercentile"
	    Attribute "50thPercentile"
	  </Value>
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.ClientRequest.RangeSlice.Latency.Max"
	    Attribute "Max"
	  </Value>
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.ClientRequest.RangeSlice.Latency.99thPercentile"
	    Attribute "99thPercentile"
	  </Value>
	  <Value>
	    Type "counter"
	    InstancePrefix "cassandra.ClientRequest.RangeSlice.Latency.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-client-rangeslice-timeouts">
	  ObjectName "org.apache.cassandra.metrics:type=ClientRequest,scope=RangeSlice,name=Timeouts"
	  <Value>
	    Type "counter"
	    InstancePrefix "cassandra.ClientRequest.RangeSlice.Timeouts.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-client-rangeslice-unavailables">
	  ObjectName "org.apache.cassandra.metrics:type=ClientRequest,scope=RangeSlice,name=Unavailables"
	  <Value>
	    Type "counter"
	    InstancePrefix "cassandra.ClientRequest.RangeSlice.Unavailables.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-client-write-latency">
	  ObjectName "org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency"
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.ClientRequest.Write.Latency.50thPercentile"
	    Attribute "50thPercentile"
	  </Value>
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.ClientRequest.Write.Latency.Max"
	    Attribute "Max"
	  </Value>
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.ClientRequest.Write.Latency.99thPercentile"
	    Attribute "99thPercentile"
	  </Value>
	  <Value>
	    Type "counter"
	    InstancePrefix "cassandra.ClientRequest.Write.Latency.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-client-write-timeouts">
	  ObjectName "org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Timeouts"
	  <Value>
	    Type "counter"
	    InstancePrefix "cassandra.ClientRequest.Write.Timeouts.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-client-write-unavailables">
	  ObjectName "org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Unavailables"
	  <Value>
	    Type "counter"
	    InstancePrefix "cassandra.ClientRequest.Write.Unavailables.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-storage-load">
	  ObjectName "org.apache.cassandra.metrics:type=Storage,name=Load"
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.Storage.Load.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-storage-hints">
	  ObjectName "org.apache.cassandra.metrics:type=Storage,name=TotalHints"
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.Storage.TotalHints.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-storage-hints-in-progress">
	  ObjectName "org.apache.cassandra.metrics:type=Storage,name=TotalHintsInProgress"
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.Storage.TotalHintsInProgress.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<MBean "cassandra-compaction-pending-tasks">
	  ObjectName "org.apache.cassandra.metrics:type=Compaction,name=PendingTasks"
	  <Value>
	    Type "gauge"
	    InstancePrefix "cassandra.Compaction.PendingTasks.Value"
	    Attribute "Value"
	  </Value>
	</MBean>

	<MBean "cassandra-compaction-total-completed">
	  ObjectName "org.apache.cassandra.metrics:type=Compaction,name=TotalCompactionsCompleted"
	  <Value>
	    Type "counter"
	    InstancePrefix "cassandra.Compaction.TotalCompactionsCompleted.Count"
	    Attribute "Count"
	  </Value>
	</MBean>

	<%- @modules.each do |module_instance, module_config| -%>
	<Connection "<%= module_instance %>">
	<%- module_config.each do |key,value| -%>
	  <%- if key == 'collect_metrics' -%>

	  <%- value.each do |collectname| -%>
	  Collect "<%= collectname %>"
	  <%- end -%>
	  <%- else -%>
	  <%= key %> <%= value %>
	  <%- end -%>
	<%- end -%>
	</Connection>
	<%- end -%>

    </Plugin>
</Plugin>
